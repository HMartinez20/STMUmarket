---
title: StMU Marketplace
---
<!DOCTYPE html>
<html>
  <header>
    {% include header.html %} <!-- Jekyll Liquid command -->
    {% include fire.html %}
  </header>
  <body>
    {% include navBar.html %}
    <br>
    <div class="col-3 d-inline-block align-top">
      <div class="btn-group-lg col" role="group">
        <button id="catergories" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Categories</button>
        <div class="dropdown-menu" aria-labelledby="catergories" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(15px, 78px, 0px);">
          <button class="btn btn-dark" id="booksBtn" onclick="genListings('books');">Books</button>
          <button class="btn btn-dark" id="clothingBtn" onclick="genListings('clothing');">Clothing</button>
          <button class="btn btn-dark" id="furnitureBtn" onclick="genListings('furniture');">Furniture</button>
        </div>
        <span class="badge badge-primary" id="booksBadge" hidden>Books</span>
	<span class="badge badge-primary" id="clothingBadge" hidden>Clothing</span>
	<span class="badge badge-primary" id="furnitureBadge" hidden>Furniture</span>
      </div>
      <br>
      <div id="filters">
        <h5>Filters</h5>
        <div class="pl-4">
          <button id="price" type="button" class="btn btn-secondary dropdown-toggle d-block" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Prices</button> <br>
          <div class="dropdown-menu" aria-labelledby="prices" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(15px, 78px, 0px);">
            <button class="btn btn-dark" id="booksBtn" onclick="genListings('books');">Lowest</button>
            <button class="btn btn-dark" id="furnitureBtn" onclick="genListings('furniture');">Highest</button>
          </div>
          <button id="date" type="button" class="btn btn-secondary dropdown-toggle d-block" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Date</button> <br>
          <div class="dropdown-menu" aria-labelledby="date" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(15px, 78px, 0px);">
            <button class="btn btn-dark" id="oldestBtn" onclick="genListings('books');">Oldest</button>
            <button class="btn btn-dark" id="newestBtn" onclick="genListings('furniture');">Newest</button>
          </div>
          <button id="reviews" type="button" class="btn btn-secondary dropdown-toggle d-block" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Reviews</button> <br>
          <div class="dropdown-menu" aria-labelledby="reviews" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(15px, 78px, 0px);">
            <button class="btn btn-dark" id="booksBtn" onclick="genListings('books');">Lowest</button>
            <button class="btn btn-dark" id="furnitureBtn" onclick="genListings('furniture');">Highest</button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-9 d-inline-block card-deck">
      <div class="row" id="listings">
        <div class="card col-3" href="#">
          <img src="{{site.baseurl}}/Empty.jpg" class="card-img-top mt-3" style="background-color: grey;" alt="">
          <div class="card-body"><h6 class="card-title">Title</h6><p class="card-text">Price</p></div>
        </div>
      </div> <!-- End 1st row-->
    </div> <!-- End listings section-->
  </body>
  {% include footer.html %}
</html>
<script src="LoginChecker.js"></script>
	
	
<script id="genListings" src="search.js" data-search="generic"></script>
<script>
// 	$( document ).ready(function() {
//   	firebase.auth().onAuthStateChanged(function(user) {
//   		if (user) {
//     		console.log('signed in');
// 			document.getElementById("login").setAttribute("hidden","");
//   		} else {
//     		console.log(' not signed in');
//   		}
// 		});
// 	});
  function genListings(search){
		db.collection("items").where("category", "==", search).get()
			.then(function(querySnapshot){
				querySnapshot.forEach(function(doc){ // doc.data() is never undefined for query doc snapshots
					var card = document.createElement("div");
					card.setAttribute("class","card col-3");card.setAttribute("href","#");
					card.innerHTML= '<img src="{{site.baseurl}}/Empty.jpg" class="card-img-top mt-3"/>'; 
					card.innerHTML += '<div class="card-body"><h6 class="card-title">'+ doc.data().name +'</h6><p class="card-text">'+ doc.data().price +'</p>';
					card.innerHTML += '<a href=' + ('item.html#' + doc.id) + ' class="btn btn-primary stretched-link">See Posting</a></div>';
					document.getElementById("listings").appendChild(card);
					console.log(doc.data().price);
					/*
					<div class="card col-3" href="#">
          <img src="{{site.baseurl}}/Empty.jpg" class="card-img-top mt-3" style="background-color: grey;" alt="">
          <div class="card-body"><h6 class="card-title">Title</h6><p class="card-text">Description</p></div>
        	</div>
					*/
        });
			});
    console.log(search + "Btn");
    var badge = document.getElementById(search+"Badge");
    if(badge.hasAttribute("hidden")){ badge.removeAttribute("hidden"); }
    else{ badge.setAttribute("hidden",""); }
  }

</script>
