---
title: Item
---
<!DOCTYPE html>
<html>
  <header>
    {% include header.html %} <!-- Jekyll Liquid command -->
    {% include fire.html %}
  </header>
<style>
    div.absolute {
  	position: absolute;
  	top: 400px;
  	left: 800px;
  	width: 500px;
  	height: 450px;
  	border: 3px solid gray;
  	padding: 10px;
  	margin: 0;
	}
</style>
  <body>
    {% include navBar.html %}

     	<div id="images"></div>
		<!-- BODY WITH THE USERNAME AND EDIT PROFILE BUTTON -->
		<!-- <div class="container-fluid"> -->	
				<div id="postInfo"style="position: absolute; top:350px; left:950px; width:700px; height:25px"></div>
				<div style="position: absolute; top:500px; left:950px; width:400px; height:25px"></div>
					
					<!-- This Button triggers a popup that gives seller contact info-->
				<button class = "btn btn-primary" id="contactPopover" title="Seller Contact Information"
				data-html="true"
				data-content="To contact, email xxxxxxxxx@mail.stmarytx.edu <br>
					      and include STMUM and posting number as email subject"
				data-placement="bottom"
				data-trigger="focus" 
				data-toggle="popover">Contact Seller</button>

		
			<div class="card">
			<div class="card-header"> Description </div>
			<div class="card-body" id="itemDesc"> </div>
		
		
	 	<?php
			echo"hh";			?>
		
	
  </body>
  <!-- {% include footer.html %} -->
</html>

<script>
/* Code to get posting ID */
var postId = window.location.hash.substring(1)
console.log(postId);
/* redirect to home page if no variable was passed */
if (!(postId)){
	alert("Error Occurred, Redirecting to Home Page");
	window.location = "https://hmartinez20.github.io/STMUmarket/";
}	
	
/* Load posting Data */
db.collection("items").doc(window.postId).get().then(function(doc) {
	if (doc.exists) { 
		/* get posting data */
		var data = doc.data();
		var title = data.title;
		var price = data.price;
		var seller = data.seller;
		/* path to the specific seller's page */
		var sellerLink = "seller.html#" + data.sellerId; 
		
		/* Display title and price*/
		var postHead = document.createElement("div");
		postHead.innerHTML = "<h1>" + title + "</h1> <h3> Seller: <a href=" + sellerLink + ">" + seller +"</a></h3>";
		postHead.innerHTML+= "<h3>Price: " + price + "</h3>";
		document.getElementById("postInfo").appendChild(postHead);
		
		/* display description*/
		var desc = document.createElement("p");
		desc.innerHTML = data.description;
		document.getElementById("itemDesc").appendChild(desc);
		
		var imgSrc = "{{site.baseurl}}/Empty.jpg";
		if(doc.data().image1){ imgSrc = doc.data().image1; }
		/* display main image */
		var imgHTML = "<img style='position:absolute; TOP:350px; LEFT:300px; WIDTH:500px; HEIGHT:500px' src=" + imgSrc + "hspace='20'>"
		var cardImage = document.createElement("div");
		cardImage.innerHTML = imgHTML;
		document.getElementById("images").append(cardImage)
		
		/* get and display other images */
		
		var img2 = "{{site.baseurl}}/Empty.jpg";
		if(doc.data().image2){ 
			var img2HTML = "<img style='position:absolute; TOP:350px; LEFT:30px; WIDTH:125px; HEIGHT:125px' src=" + doc.data().image2 + "hspace='20'>"
			var img2div = document.createElement("div");
			img2div.innerHTML = img2HTML;
			document.getElementById("images").append(img2div)
		}
		
		var img3 = "{{site.baseurl}}/Empty.jpg";
		if(doc.data().image3){ 
			var img3HTML = "<img style='position:absolute; TOP:525px; LEFT:30px; WIDTH:125px; HEIGHT:125px' src=" + doc.data().image2 + "hspace='20'>"
			var img3div = document.createElement("div");
			img3div.innerHTML = img3HTML;
			document.getElementById("images").append(img3div)
		}
		
		var img4 = "{{site.baseurl}}/Empty.jpg";
		if(doc.data().image4){ 
			var img4HTML = "<img style='position:absolute; TOP:700px; LEFT:30px; WIDTH:125px; HEIGHT:125px' src=" + doc.data().image2 + "hspace='20'>"
			var img4div = document.createElement("div");
			img4div.innerHTML = img4HTML;
			document.getElementById("images").append(img4div)
		}
				 
		/* <IMG STYLE="position:absolute; TOP:350px; LEFT:300px; WIDTH:450px; HEIGHT:500px" src="" hspace="20"> */
		
		
	} else {
        	// doc doesn't exist
        	console.log("Requested document does not exist...");
   	}
}).catch(function(error) {
	console.log("Error getting document:", error);
});
	
</script>
		<!--Script to toggle popover
<script >
	$(document).ready(function () 
		{ $("[data-toggle=popover]").popover(); });
</script>
-->

<script>
window.onload = function() {
	if (firebase.auth().currentUser){
		console.log("Signed In")
		$("[data-toggle=popover]").popover(
				{
				html:true,
				content: "To contact, send email to " + "PLACEHOLDER" + " <br> and include STMUM and posting number as email subject",
				trigger: "focus"
				}				
			);
	}
	else{
		console.log("Not signed In")
	}
  };
	
</script>
